1
Есть скрипт:

a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
Какие значения переменным c,d,e будут присвоены?
Почему?

```console
danobook:14 danche$ cat test.sh
#!/usr/bin/env bash
a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
echo $c
echo$d
echo $e

danobook:14 danche$ ./test.sh
a+b
./test.sh: line 8: echo1+2: command not found
3
```
c - мы не обращаемся к переменным а выводим простой текст, переданный команде эхо
d - поскольку при задании переменных их тип не был определен как цифра, втч тип переменной С, 
то у нас не получится использовать математические знаки без скобок
e - доп скобки помогают изменить тип передаваемых переменных, поэтому мы можем исполльзовать арифметические операции

2
На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, 
записывая дату проверок до тех пор, пока сервис не станет доступным. В скрипте допущена ошибка, из-за которой выполнение не может завершиться, 
при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:

while ((1==1)
do
curl https://localhost:4757
if (($? != 0))
then
date >> curl.log
fi
done

```bash
#!/usr/bin/env bash
while ((1==1))
do
curl http://localhost:4757 2>/dev/null
if (($? == 0))
then
echo it worked
exit
fi
date >> curl.log
sleep 3
done

```console
danobook:14 danche$ ./test.sh

192:~ danche$ python3 -m http.server --cgi 4757
Serving HTTP on :: port 4757 (http://[::]:4757/) ...
::ffff:127.0.0.1 - - [12/Dec/2021 13:26:50] "GET / HTTP/1.1" 200 -

it worked
```
не хватало скобки

не было момента выхода

не хватало таймера сна для запроса

не было перенаправления ошибок

мы спрашивали https на нестандартный порт, для проверки быстрее поднять http сервер


3
Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 
по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.
```bash
#!/usr/bin/env bash
array_hosts=(192.168.0.1 192.168.0.2 192.168.0.3)
while ((1==1))
do
	for i in ${array_hosts[@]}
	do
		for j in {1..5}
		do
			curl http://$i --max-time 1 2>/dev/null
			echo $(date) -- $i >> curl.log
		done
	done
	sleep 2
done
```
```console
192:14 danche$ cat curl.log
Sun 12 Dec 2021 14:11:41 MSK -- 192.168.0.1
Sun 12 Dec 2021 14:11:42 MSK -- 192.168.0.1
Sun 12 Dec 2021 14:11:43 MSK -- 192.168.0.1
Sun 12 Dec 2021 14:11:44 MSK -- 192.168.0.1
Sun 12 Dec 2021 14:11:45 MSK -- 192.168.0.1
Sun 12 Dec 2021 14:11:46 MSK -- 192.168.0.2
Sun 12 Dec 2021 14:11:47 MSK -- 192.168.0.2
Sun 12 Dec 2021 14:11:48 MSK -- 192.168.0.2
Sun 12 Dec 2021 14:11:49 MSK -- 192.168.0.2
Sun 12 Dec 2021 14:11:50 MSK -- 192.168.0.2
```

4
Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. 
Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается

```bash
#!/usr/bin/env bash
array_hosts=(192.168.0.1 192.168.0.2 192.168.0.3)
while ((1==1))
do
	for i in ${array_hosts[@]}
	do
		for j in {1..5}
		do
			curl http://$i --max-time 1 2>/dev/null
			if (($? != 0))
				then
					echo ERROR $(date) -- $i >> error.log
				exit
			fi
			echo TRACE $(date) -- $i >> trace.log
		done
	done
	sleep 2
done
```

```console
192:14 danche$ cat error.log
ERROR Sun 12 Dec 2021 14:18:15 MSK -- 192.168.0.1

```


5
Мы хотим, чтобы у нас были красивые сообщения для коммитов в репозиторий. 
Для этого нужно написать локальный хук для git, который будет проверять, 
что сообщение в коммите содержит код текущего задания в квадратных скобках и количество символов в сообщении не превышает 30. 
Пример сообщения: [04-script-01-bash] сломал хук.


```bash
#!/usr/bin/env bash


#MSG="[04-script-01-bash] added some shit"
MSG=$1
LEN=30
CODE="[04-script-01-bash]"

if [[ $(echo -n $MSG|wc -m) -gt $LEN ]]
	then
		exit 2
	elif [[ $MSG != *[04-script-01-bash]* ]]
	then
		exit 2
fi
echo its fine!
