FROM centos:centos7

EXPOSE 9200
EXPOSE 9300
USER 0

ENV ES_JAVA_OPTS: '-Xms128m -Xmx128m'

RUN yum -y install java-1.8.0-openjdk.x86_64
RUN yum -y install wget
RUN wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.9.2-x86_64.rpm
RUN rpm -ivh elasticsearch-7.9.2-x86_64.rpm
USER 999

CMD ["sh", "-c", "/usr/share/elasticsearch/bin/elasticsearch"]